<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hallo TO !!!</title>
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
</head>
<style>
 
    #game_div, p {
      width: 400px;
      margin: auto;
      margin-top: 20px;
    }
    /*
.canvas{width: 1000px;
height: 600px;
border: 1px solid red;
position: relative;}
.square{width: 60px;
height: 60px;
position: absolute;
top: 60px;
left: 60px;
background: red;}
*/
</style>
<body>
     <div class="canvas">
          
         <div class="square">push</div>
         
     </div>
     
     
     
</body>
<script src="https://code.jquery.com/jquery.js"></script>
<script src="/socket.io/socket.io.js"></script>
 <script type="text/javascript" src="fbjs/phaser.min.js"></script>
  <script type="text/javascript" src="fbjs/load.js"></script>
  <script type="text/javascript" src="fbjs/menu.js"></script>
  <script>
       var socket = io.connect('http://localhost:5555/');
  socket.emit('bigscreen');
 
  socket.on('sendingN', function (data) {
        var name = data.name;
        console.log("Name received index "+ name)      
    });
    socket.on('right', function (data) {
        var $quare = $('.square');
        //$quare.css("left","+=20");   
       //menu_state.start();
        play_state.jump();
       // console.log("ss");
    });
 
      
   
var play_state = {

    // No more preload, since it is already done in the 'load' state

    create: function() { 
        var space_key = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
        space_key.onDown.add(this.jump, this); 

        this.pipes = game.add.group();
        this.pipes.createMultiple(20, 'pipe');  
        this.timer = this.game.time.events.loop(1500, this.add_row_of_pipes, this);           

        this.bird = this.game.add.sprite(100, 245, 'bird');
        this.bird.body.gravity.y = 1000; 
        this.bird.anchor.setTo(-0.2, 0.5);
        
        // Not 'this.score', but just 'score'
        score = 0; 
        var style = { font: "30px Arial", fill: "#ffffff" };
        this.label_score = this.game.add.text(20, 20, "0", style); 

        this.jump_sound = this.game.add.audio('jump');
        this.hit_sound = this.game.add.audio('hit'); 
    },

    update: function() {
        if (this.bird.inWorld == false)
            this.restart_game(); 

        if (this.bird.angle < 20)
            this.bird.angle += 1;

        this.game.physics.overlap(this.bird, this.pipes, this.hit_pipe, null, this);      
    },

    jump: function() {
        if (this.bird.alive == false)
            return; 

        this.bird.body.velocity.y = -350;
        this.game.add.tween(this.bird).to({angle: -20}, 100).start();
        this.jump_sound.play();
    },

    hit_pipe: function() {
        if (this.bird.alive == false)
            return;

        this.bird.alive = false;
        this.game.time.events.remove(this.timer);

        this.pipes.forEachAlive(function(p){
            p.body.velocity.x = 0;
        }, this);
    },

    restart_game: function() {
        this.game.time.events.remove(this.timer);

        // This time we go back to the 'menu' state
        this.game.state.start('menu');
    },

    add_one_pipe: function(x, y) {
        var pipe = this.pipes.getFirstDead();
        pipe.reset(x, y);
        pipe.body.velocity.x = -200; 
        pipe.outOfBoundsKill = true;
    },

    add_row_of_pipes: function() {
        var hole = Math.floor(Math.random()*5)+1;
        
        for (var i = 0; i < 8; i++)
            if (i != hole && i != hole +1) 
                this.add_one_pipe(400, i*60+10);   
        
        // Not 'this.score', but just 'score'
        score += 1; 
        this.label_score.content = score;  
    },
};
      
      
  </script>
  
  <script type="text/javascript" src="fbjs/play.js"></script>
  <script type="text/javascript" src="fbjs/game.js"></script>
  
  
  
<script>
 
  
   
</script>
</html>